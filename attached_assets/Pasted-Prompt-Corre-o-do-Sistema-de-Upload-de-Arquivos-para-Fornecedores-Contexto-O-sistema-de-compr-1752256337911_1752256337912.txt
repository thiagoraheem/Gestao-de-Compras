Prompt: Correção do Sistema de Upload de Arquivos para Fornecedores

Contexto:
O sistema de compras possui um recurso para upload de arquivos de cotação de fornecedores, mas está falhando com o erro "Nenhum arquivo foi enviado" no endpoint /api/quotations/:quotationId/upload-supplier-file. O erro indica que o arquivo não está chegando ao servidor através do multer.

Problema Identificado:

O endpoint retorna erro 400 com mensagem "Nenhum arquivo foi enviado"
O arquivo não está sendo processado pelo multer no servidor
O componente frontend pode não estar enviando o arquivo corretamente
Falta tratamento adequado de erros e validação
Correções Necessárias:

No arquivo server/routes.ts:

Verificar se a configuração do multer quotationUpload está correta
Adicionar logs de debug para identificar se o arquivo está chegando
Melhorar a validação do campo file no request
Adicionar verificação se o supplierId está sendo enviado corretamente
Corrigir o armazenamento do attachment no banco de dados
No arquivo client/src/components/update-supplier-quotation.tsx:

Verificar se o FormData está sendo criado corretamente
Garantir que o campo file está sendo enviado com o nome correto
Adicionar validação de arquivo antes do upload
Melhorar o tratamento de erros de upload
Adicionar feedback visual adequado durante o upload
Melhorias específicas:

Adicionar logs detalhados no servidor para debug
Implementar validação de tipo de arquivo tanto no frontend quanto no backend
Melhorar mensagens de erro para o usuário
Garantir que o progresso do upload seja exibido corretamente
Adicionar verificação de tamanho de arquivo
Requisitos:

Manter compatibilidade com o sistema existente
Garantir que apenas arquivos válidos sejam aceitos (PDF, DOC, DOCX, XLS, XLSX, etc.)
Limite de 10MB por arquivo
Feedback claro para o usuário sobre sucesso/falha
Logs adequados para debug
Resultado esperado:
O sistema deve permitir que fornecedores façam upload de arquivos de cotação sem erros, com feedback adequado e armazenamento correto no banco de dados.
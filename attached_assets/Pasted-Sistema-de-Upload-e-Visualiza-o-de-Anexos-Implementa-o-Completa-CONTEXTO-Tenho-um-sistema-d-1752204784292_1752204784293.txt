Sistema de Upload e Visualização de Anexos - Implementação Completa

CONTEXTO:
Tenho um sistema de solicitações de compra com fases: Solicitação → Aprovação A1 → Cotação → Aprovação A2 → Pedido de Compra → Recebimento → Conclusão. Atualmente o sistema de anexos não está funcionando corretamente.

PROBLEMA ATUAL:
1. As rotas de anexos em /api/purchase-requests/:id/attachments retornam sempre array vazio
2. Não há implementação real de upload de arquivos
3. Os anexos não estão sendo exibidos corretamente nas telas de aprovação
4. Especialmente na "Aprovação A2" onde os anexos são críticos para decisão

ARQUIVOS RELEVANTES:
- server/routes.ts: Rotas de anexos (linhas com /attachments)
- client/src/components/attachments-viewer.tsx: Componente de visualização
- client/src/components/approval-a2-phase.tsx: Tela onde anexos são mais importantes
- shared/schema.ts: Schema do banco de dados

IMPLEMENTAÇÃO NECESSÁRIA:
1. Sistema completo de upload de arquivos usando multer ou similar
2. Armazenamento dos arquivos na pasta /uploads no servidor
3. Tabela de attachments no banco funcionando corretamente
4. Rotas GET/POST para anexos funcionais
5. Componente AttachmentsViewer exibindo anexos reais com download
6. Integração nas fases de Aprovação A1 e A2 para visualização
7. Upload de anexos na fase de Solicitação

REQUISITOS TÉCNICOS:
- Usar multer para upload
- Arquivos salvos em /uploads/purchase-requests/{id}/
- Suporte a PDF, DOC, DOCX, JPG, PNG
- Limite de 10MB por arquivo
- Download direto via URL
- Preview básico quando possível

ESTRUTURA DESEJADA:
- Pasta uploads/ na raiz do projeto
- Subpastas por solicitação: uploads/purchase-requests/123/
- Metadados salvos na tabela attachments
- URLs de acesso: /api/attachments/{id}/download

Implemente toda a funcionalidade de upload, armazenamento e visualização de anexos, garantindo que funcione especialmente na tela de "Atualizar Cotação" (approval-a2-phase.tsx) onde os aprovadores precisam ver os anexos para tomar decisões.